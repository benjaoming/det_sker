<h1><%= @location.try(:name) %></h1>

<p><%= @location.try(:description) %></p>
<p><%= @location.try(:street_address) %></p>
<p><%= @location.try(:postcode) %></p>
<p><%= @location.try(:town) %></p>

<% if current_user && current_user.can_edit?(@location) %>
    <%= link_to t('.edit_location'), edit_location_path %>
    <%= link_to t('.delete_location'), location_path, method: :delete, data: { confirm: 'Are you sure?' } %>
<% end %>
<div>
  <h2><%= t :coming_events %></h2>
  <% @location.coming_events.each do |event| %>
      <%= render partial: 'events/event', object: event, locals: { show_date: true } %>
  <% end %>
</div>